{
  "step_id" : 6067405,
  "lesson_id" : 1458232,
  "position" : 2,
  "type" : "unknown",
  "block" : {
    "name" : "text",
    "text" : "<h1 style=\"text-align: center;\">Композиции функций в Scala</h1>\n\n<p>Композиция функций в Scala реализуется с помощью операций<code>compose</code> и <code>andThen</code>. Эти операции позволяют объединять две функции так, чтобы результат одной функции передавался в качестве аргумента другой. Операции определены только для  функций с одним параметром.</p>\n\n<h3 style=\"text-align: center;\">Операция <strong>compose</strong></h3>\n\n<p>Синтаксис<strong>:   <code> f compose g</code></strong></p>\n\n<p>Сначала вызывается функция <code>g</code>, затем результат передаётся в функцию <code>f</code>.</p>\n\n<p>Пример:</p>\n\n<pre><code class=\"language-scala\">val f = (x: Int) =&gt; x + 2\nval g = (x: Int) =&gt; x * 2\n\nval composed: Int =&gt; Int = f compose g  // f(g(x))\n\nprintln(composed(3))  // Результат: f(g(3)) = f(6) = 8</code></pre>\n\n<h3 style=\"text-align: center;\">Операция <strong>andThen</strong></h3>\n\n<p>Синтаксис<strong>:      <code>f andThen g</code></strong></p>\n\n<p>Сначала вызывается функция <code>f</code>, затем её результат передаётся в функцию <code>g</code>.</p>\n\n<p>Пример:</p>\n\n<pre><code class=\"language-scala\">val f = (x: Int) =&gt; x + 2\nval g = (x: Int) =&gt; x * 2\n\nval chained: Int =&gt; Int = f andThen g  // g(f(x))\n\nprintln(chained(3))  // Результат: g(f(3)) = g(5) = 10</code></pre>\n\n<h3 style=\"text-align: center;\">Одинаковые типы результата и параметра</h3>\n\n<p>Композиция возможна только если одинаковые типы результата первой функции и параметра следующей функции.</p>\n\n<p>Например, одна функция выдает целые числа, а другая — вещественные числа. Тогда:</p>\n\n<pre><code class=\"language-scala\">val f: Int =&gt; Int = x =&gt; x / 2\nval g: Int =&gt; Double = x =&gt; sqrt(x)\n\nval res = g andThen f // компилятор выдаст ошибку для неверного типа\nval res2 = f andThen g // успешная композиция функций\n \nprintln(res2(6))  // f(6) = 3, g(3) = 1.7320508075688772</code></pre>\n\n<h3 style=\"text-align: center;\">Использование каррирования для композиции</h3>\n\n<p>Когда функция имеет несколько параметров, часто используется <strong>каррирование</strong> — техника, при которой функция с несколькими параметрами превращается в цепочку функций, каждая из которых принимает один параметр. Это даёт возможность использовать для композиции функцию с несколькими параметрами.</p>\n\n<pre><code class=\"language-scala\">def f1(x: Int): Int = x * 2\ndef f2(x: Int, y: Int): Int = x + y\n\nval f3: Int =&gt; Int =&gt; Int = f2.curried // преобразование в каррированую функцию\n\nval res2: Int =&gt; Int =&gt; Int = f1 andThen f3  // успешно композируем функции, \n//результат первой функции используется как аргумент для первого параметра второй функции\n\nprintln(res2(1)(3)) // результат 5    1 * 2 = 2 =&gt; 2 + 3 = 5 </code></pre>",
    "video" : null,
    "options" : {
      
    },
    "subtitle_files" : [
    ],
    "is_deprecated" : false
  },
  "name" : "text",
  "course_id" : 195883,
  "course_name" : "Функциональная Scala 3 для начинающих",
  "exported_at" : "2026-01-10T10:17:20.8123674"
}