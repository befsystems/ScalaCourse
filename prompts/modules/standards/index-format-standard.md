# Module: Index Format Standard

## Purpose

Определяет форматы и структуру индексных файлов для навигации по контенту курса.
Служит спецификацией форматов данных для системы индексации.

## Specification

### 1. Типы индексных файлов

Система индексации создаёт 4 типа индексов с разными принципами организации:

1. **module-hierarchy.md** - Иерархическая навигация
2. **topics-keywords.md** - Тематический указатель
3. **quick-reference.md** - Табличная навигация
4. **by-content-type.md** - Группировка по типам контента

### 2. Формат: module-hierarchy.md

**Назначение:** Древовидная структура курса (курс → модули → уроки → шаги)

**Структура:**

```markdown
# Иерархия курса

## Модуль N: [Название модуля]

### N.M [Название урока]

- Шаг X: [тип] [Название шага]
  - ID: [step_id]
  - Путь: content/.../[filename].md
  - Темы: [список основных тем]

Статистика урока:
- Всего шагов: X
- Теория (text): X
- Практика (code): X
- Тесты (choice): X
- Интерактив (fill-blanks): X
```

**Требования:**
- Сохранять нумерацию модулей и уроков
- Включать ID шага и относительный путь
- Указывать тип контента ([text]/[code]/[choice]/[fill-blanks])
- Добавлять краткие темы шага
- Статистика на уровне урока

### 3. Формат: topics-keywords.md

**Назначение:** Алфавитный тематический указатель для поиска по ключевым словам

**Структура:**

```markdown
# Тематический индекс курса

## Алфавитный указатель

[А](#а) [Б](#б) ... [Я](#я) | [A](#a) ... [Z](#z)

## А

### [Ключевое слово/тема]
- content/.../[filename].md: "[Название шага]"
- content/.../[filename].md: "[Название шага]"

## [Следующая буква]
...
```

**Требования:**
- Алфавитный порядок (сначала кириллица А-Я, потом латиница A-Z)
- Якоря для быстрой навигации
- Относительные пути от корня проекта
- Краткое название шага после пути

### 4. Формат: quick-reference.md

**Назначение:** Компактная табличная навигация для быстрого обзора

**Структура:**

```markdown
# Быстрая навигация по курсу

| Модуль | Урок | Шаг | Тип | Описание | ID | Путь |
|--------|------|-----|-----|----------|----|----- |
| 1 | 1.1 | 1 | text | [Краткое описание] | 12345 | content/.../file.md |
| 1 | 1.1 | 2 | code | [Краткое описание] | 12346 | content/.../file.md |
...

## Статистика

- Модулей: X
- Уроков: X
- Шагов: X
  - Теория (text): X (XX%)
  - Практика (code): X (XX%)
  - Тесты (choice): X (XX%)
  - Интерактив (fill-blanks): X (XX%)
```

**Требования:**
- Одна строка = один шаг
- Сортировка по модулю → урок → шаг
- Краткие описания (до 60 символов)
- Итоговая статистика с процентами

### 5. Формат: by-content-type.md

**Назначение:** Группировка материалов по типу контента

**Структура:**

```markdown
# Индекс по типам контента

## Теоретические материалы (text)

### Модуль N: [Название]

X. [Название шага] (ID: [step_id])
   - Путь: content/.../[filename].md
   - Темы: [список тем]
   - Ключевые слова: [список ключевых слов]

## Практические задания (code)

[аналогично]

## Тесты (choice)

[аналогично]

## Интерактивные задания (fill-blanks)

[аналогично]

## Статистика по типам

| Тип | Количество | Процент |
|-----|-----------|---------|
| text | X | XX% |
| code | X | XX% |
| choice | X | XX% |
| fill-blanks | X | XX% |
| **Всего** | **X** | **100%** |
```

**Требования:**
- Группировка по типу контента
- Внутри типа - группировка по модулям
- Детальное описание с темами и ключевыми словами
- Итоговая статистика с процентами

### 6. Формат: README.md

**Назначение:** Описание системы индексов

**Обязательные секции:**

```markdown
# Индексы курса

## Назначение
[Для чего нужны индексы]

## Структура индексов
[Описание каждого типа]

## Генерация индексов
[Как запустить индексацию]

## Статистика
- Модулей: X
- Уроков: X
- Шагов: X
- Дата генерации: YYYY-MM-DD

## Принципы организации
[Ключевые принципы]

## Обслуживание
[Когда обновлять индексы]
```

### 7. Общие требования к форматам

**Пути:**
- Всегда относительные от корня проекта
- Формат: `content/{course}/{module}/{lesson}/{step}.md`
- Использовать прямые слэши `/` (не `\`)

**ID шагов:**
- Извлекать из имени файла (первое число)
- Формат: целое число

**Типы контента:**
- `text` - теоретический материал
- `code` - практическое задание с кодом
- `choice` - тест с выбором ответа
- `fill-blanks` - задание на заполнение пропусков

**Encoding:**
- UTF-8 для всех индексных файлов
- Поддержка кириллицы

**Размер:**
- Каждый индекс должен быть компактным
- Целевой размер: до 100 KB на индекс
- Приоритет: информативность > компактность > детальность

### 8. Метаданные индексов

**В шапке каждого индекса указывать:**

```markdown
<!--
Сгенерировано: YYYY-MM-DD HH:MM:SS
Модулей: X
Уроков: X
Шагов: X
-->
```

**Формат даты:** ISO 8601 (YYYY-MM-DD)
**Формат времени:** 24-часовой (HH:MM:SS)

## Version

* Version: 1.0
* Created: 2025-12-28
* Status: Active
* Notes: Стандарт форматов индексных файлов для системы индексации курса
