# Задача: Урок "Операции трансформации (map/filter)"

## Метаданные
- **ID**: TASK-2025-12-30-003
- **Создана**: 2025-12-30 21:15
- **Статус**: todo
- **Приоритет**: critical
- **Исполнитель**: Claude + User
- **Оценка времени**: 4h
- **Фактическое время**: -
- **Итерация плана**: 1 (Foundation/MVP)

## Связи
- **План**: [Раздел "Коллекции в Scala 3"](../../plans/test-collections.md) - Итерация 1, Урок 3
- **Зависит от**: TASK-2025-12-30-002 (урок про List)
- **Блокирует**: Итерацию 2 (fold, Set/Map)

## Описание

Создать урок о функциональных операциях трансформации коллекций. Студенты изучат:
- map - преобразование каждого элемента
- filter - фильтрация элементов по условию
- Цепочки операций (method chaining)
- Практическую обработку данных

Это **финальный урок MVP** - после него студент может решать практические задачи обработки данных.

## Контекст

**Из плана:**
- **Критерий завершения MVP**: Студент может создать List, применить map/filter, получить результат ✅
- После этого урока MVP считается готовым для тестирования

**Целевая аудитория:**
- Прошли уроки 1-2 (коллекции, List)
- Знакомы с функциями в Scala
- Готовы к функциональной обработке данных

## Критерии выполнения

- [ ] Теоретическая часть написана:
  - [ ] map: что делает, как использовать
  - [ ] filter: что делает, как использовать
  - [ ] Композиция операций (chaining)
  - [ ] Почему это лучше циклов
- [ ] Практические примеры:
  - [ ] map: преобразование чисел, строк, объектов
  - [ ] filter: отбор по условию
  - [ ] Цепочка: list.map(...).filter(...).map(...)
  - [ ] Практическая задача: обработка данных
- [ ] Упражнения созданы:
  - [ ] 2-3 упражнения с автопроверкой
  - [ ] От простого к сложному
  - [ ] Практическая задача обработки данных
- [ ] Материал прошел ревью

## Используемые ресурсы

**Промпты:**
- `prompts/modules/roles/lesson-creation.md`
- `prompts/modules/standards/lesson-structure.md`

**План:**
- `plans/test-collections.md` - Итерация 1, Урок 3 (завершающий MVP)

**Зависимости:**
- Урок 2 должен быть завершён (понимание List)

## Шаги выполнения

1. [ ] **Подготовка**
   - [ ] Прочитать уроки 1-2
   - [ ] Изучить детали Урока 3 в плане
   - [ ] Подготовить практическую задачу для примера

2. [ ] **Создание контента**
   - [ ] Объяснить концепцию map (A => B)
   - [ ] Объяснить концепцию filter (A => Boolean)
   - [ ] Показать композицию операций
   - [ ] Сравнить с императивными циклами

3. [ ] **Примеры кода**
   - [ ] Пример 1: map - удвоить числа
     ```scala
     List(1, 2, 3).map(_ * 2) // List(2, 4, 6)
     ```
   - [ ] Пример 2: map - преобразовать строки
     ```scala
     List("a", "b").map(_.toUpperCase) // List("A", "B")
     ```
   - [ ] Пример 3: filter - только чётные
     ```scala
     List(1, 2, 3, 4).filter(_ % 2 == 0) // List(2, 4)
     ```
   - [ ] Пример 4: цепочка операций
     ```scala
     List(1, 2, 3, 4, 5)
       .filter(_ % 2 == 0)  // List(2, 4)
       .map(_ * 10)          // List(20, 40)
     ```
   - [ ] Пример 5: практическая задача (обработка списка пользователей)

4. [ ] **Упражнения**
   - [ ] Упражнение 1: Базовые map и filter
   - [ ] Упражнение 2: Цепочка операций
   - [ ] Упражнение 3: Практическая задача обработки данных
     - Дан список объектов (товары, люди, etc)
     - Отфильтровать по условию
     - Преобразовать результат
   - [ ] Автотесты

5. [ ] **Ревью и финализация**
   - [ ] Проверить код
   - [ ] Убедиться что студент достигает критерия MVP
   - [ ] Проверить связь с уроками 1-2

## Заметки

### Критерий успеха MVP (из плана)
После этого урока студент должен уметь:
✅ Создать List
✅ Применить map для преобразования
✅ Применить filter для фильтрации
✅ Решить практическую задачу обработки данных

### Принципы
- **Функциональный стиль** - показать красоту и лаконичность
- **Сравнение с циклами** - показать почему map/filter лучше
- **Практичность** - реальные задачи обработки данных

### Важно показать
```scala
// Вместо императивного стиля:
val result = new ArrayBuffer[Int]()
for (x <- list) {
  if (x % 2 == 0) {
    result += x * 10
  }
}

// Функциональный стиль:
val result = list
  .filter(_ % 2 == 0)
  .map(_ * 10)
```

### Избежать
- Углубления в теорию функторов (это ФП раздел)
- Упоминания flatMap (это следующая итерация)
- Упоминания fold/reduce (это урок 4)

## Результат

После завершения:
- [ ] Файл урока: `content/lessons/collections-transformations.md`
- [ ] Упражнения с тестами
- [ ] План обновлён (урок 3 выполнен, Итерация 1 завершена)
- [ ] **MVP раздела "Коллекции" готов к тестированию!**

## История

- 2025-12-30 21:15: Задача создана из плана test-collections.md
- Это финальный урок Итерации 1 (MVP)
