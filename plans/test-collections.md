# План: Раздел "Коллекции в Scala 3"

## Метаданные
- **Создан**: 2025-12-30 (тестовый план)
- **Обновлен**: 2025-12-30
- **Статус**: planned
- **Владелец**: Команда разработки курса
- **Приоритет**: high
- **Тип**: Стратегический план (использована роль planning.md)

## Цель (Outcome-driven)
Создать полноценный раздел курса о коллекциях Scala 3, который позволит студентам:
- Уверенно работать с основными коллекциями (List, Set, Map, Vector)
- Понимать разницу между mutable/immutable
- Применять функциональные операции (map, filter, fold)
- Выбирать оптимальную коллекцию для конкретной задачи

**Критерий успеха**: Студент может решить практическую задачу обработки данных, правильно подобрав коллекцию и методы.

## Контекст

### Место в курсе
- **Зависит от**: Раздел "Основы Scala" (функции, типы, базовый синтаксис)
- **Блокирует**: Раздел "Функциональное программирование" (нужно понимание коллекций для монад)
- **Позиция**: Раздел 1.5 - мост между основами и ФП

### Целевая аудитория
- Студенты, завершившие основы (переменные, функции, классы)
- Знакомые с массивами/списками из других языков
- Готовые к функциональным концепциям

## Декомпозиция (WBS + Story Mapping)

### Итерация 1: Foundation (MVP) - 1 неделя
**Цель**: Базовая работа с immutable коллекциями

**Уроки:**
1. **Введение в коллекции Scala**
   - Иерархия коллекций (Seq, Set, Map)
   - Mutable vs Immutable
   - Когда что использовать
   - Практика: создание и базовые операции

2. **List - основная коллекция**
   - Структура данных (cons list)
   - Создание (::, List(...), List.range)
   - Базовые методы (head, tail, isEmpty)
   - Практика: работа со списками

3. **Операции трансформации**
   - map - преобразование элементов
   - filter - фильтрация
   - Цепочки операций
   - Практика: обработка данных

**Критерий завершения MVP**: Студент может создать List, применить map/filter, получить результат.

**Риски**:
- Сложность cons-структуры для новичков
- Митигация: Визуализация структуры, много примеров

### Итерация 2: Расширение функциональности - 1 неделя
**Цель**: Продвинутые операции и другие коллекции

**Уроки:**
4. **Fold и агрегация**
   - foldLeft / foldRight
   - reduce и агрегация
   - Практика: подсчёт статистики

5. **Set и Map**
   - Set: уникальность элементов, операции множеств
   - Map: ключ-значение, обновление, получение
   - Практика: частотный анализ текста

6. **Vector и производительность**
   - Когда List недостаточен
   - Random access
   - Сравнение производительности
   - Практика: выбор оптимальной коллекции

**Зависимости**: Требует завершения Итерации 1

### Итерация 3: Практика и интеграция - 3-4 дня
**Цель**: Применение на реальных задачах

**Уроки:**
7. **For-comprehensions с коллекциями**
   - Синтаксис for-yield
   - Комбинирование коллекций
   - Практика: декартово произведение

8. **Mutable коллекции (опционально)**
   - Когда нужны mutable
   - ArrayBuffer, mutable.Map
   - Best practices
   - Практика: оптимизация производительности

9. **Итоговый проект раздела**
   - Анализ лог-файла
   - Использование нескольких типов коллекций
   - Практика функциональной обработки

## Приоритизация (по ценности для студента)

**Critical (P0)** - обязательно для MVP:
- Уроки 1-3: List, map, filter
- Без этого нельзя двигаться дальше

**High (P1)** - ключевая ценность:
- Урок 4: fold (нужен для ФП)
- Урок 5: Set и Map (часто используются)

**Medium (P2)** - улучшает понимание:
- Урок 6: Vector (оптимизация)
- Урок 7: for-comprehensions (синтаксический сахар)

**Low (P3)** - можно отложить:
- Урок 8: mutable коллекции (edge case)
- Можно вынести в отдельный optional раздел

## Риски и митигация

### Риск 1: Перегрузка информацией
**Вероятность**: High | **Влияние**: High
**Митигация**:
- Строгая прогрессия: один концепт за урок
- Многократные практические упражнения
- Визуализация трансформаций

### Риск 2: Абстрактность fold
**Вероятность**: Medium | **Влияние**: Medium
**Митигация**:
- Начать с конкретных примеров (sum, count)
- Постепенно переходить к абстрактному пониманию
- Визуальные схемы работы fold

### Риск 3: Путаница mutable/immutable
**Вероятность**: High | **Влияние**: Medium
**Митигация**:
- Чёткое разделение в начале
- Фокус на immutable в основных уроках
- mutable только в конце как advanced topic

## Связь с другими компонентами проекта

### Требования
- Ссылка: `requirements/` (если есть требования от стейкхолдеров)

### Исследования
- Требуется: Исследовать лучшие практики обучения коллекциям
- Создать: `research/pedagogy/collections-teaching.md`

### Задачи (декомпозиция в tasks/)
После утверждения плана создать задачи:
- `tasks/planning/research-collections-pedagogy.md`
- `tasks/content/lesson-collections-intro.md`
- `tasks/content/lesson-collections-list.md`
- ... (для каждого урока)

### Промпты
Использовать:
- `prompts/modules/roles/lesson-creation.md` - для создания уроков
- `prompts/modules/standards/lesson-structure.md` - структура урока

## Метрики и оценки

**Объём работы:**
- Уроков: 7-9 (3 critical, 2 high, 2-4 medium/low)
- Упражнений: ~20-25 (2-3 на урок)
- Итоговый проект: 1

**Временные оценки:**
- Итерация 1 (MVP): 1 неделя
- Итерация 2: 1 неделя
- Итерация 3: 3-4 дня
- **Итого**: ~2.5-3 недели разработки

**Buffer**: +20% на непредвиденное = 3-3.5 недели общее время

**Время студента:**
- Теория: ~4-5 часов
- Практика: ~6-8 часов
- **Итого**: 10-13 часов для прохождения раздела

## Критерии завершения раздела

- [ ] Все критические уроки (P0) созданы и протестированы
- [ ] Упражнения имеют автопроверку
- [ ] Итоговый проект проверен на реалистичность
- [ ] Получена обратная связь от тестовой группы
- [ ] Документация обновлена

## Принципы реализации (из роли planning.md)

✅ **Ценность для студента > feature completeness**
- Лучше 3 хорошо объяснённых урока, чем 9 поверхностных

✅ **Итеративность: простое работающее > сложное неготовое**
- MVP из 3 уроков можно выпустить быстро, получить фидбек

✅ **Foundation → надстройки**
- List и map/filter (foundation) идут до fold и for-comprehensions

✅ **Высокорисковые задачи раньше**
- Урок про fold (риск 2) - в середине, чтобы было время на доработку

## История изменений
- 2025-12-30: План создан как тест новой инструкции CLAUDE.md
- Применена методология из `prompts/modules/roles/planning.md`
- Использованы принципы: outcome-driven, WBS, итеративность, приоритизация по ценности

---

**Примечание**: Это тестовый план для проверки как ассистент применяет роль planning.md при создании стратегических планов.
