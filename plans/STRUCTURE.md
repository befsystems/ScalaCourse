# Структура планов работ над проектом

## Концепция

Динамическая система управления планами работ над курсом Scala. Планы - это живые документы, которые:
- Создаются и изменяются в процессе разработки
- Версионируются в Git как часть кодовой базы
- Отражают текущее состояние и направление проекта
- Служат документацией процесса разработки

## Уровни абстракции проекта

```
prompts/ (статика)    - Библиотека инструментов
    ↓
plans/ (стратегия)    - Что нужно достичь (дни/недели)
    ↓
tasks/ (тактика)      - Конкретные действия (часы/день)
    ↓
Results               - Выполненная работа
```

### Разделение ответственности

- **`prompts/`** - Инструментарий (модули, шаблоны, guidelines)
- **`plans/`** - Стратегические планы (roadmap, разделы, направления)
- **`tasks/`** - Исполнительские задачи (конкретные действия, kanban)

## Структура директорий

```
plans/
├── course/                     # Планы по структуре курса
│   ├── roadmap.md              # Общий roadmap курса
│   ├── sections/               # Планы по разделам
│   │   ├── basics.md           # Раздел "Основы"
│   │   ├── oop.md              # Раздел "ООП"
│   │   ├── fp.md               # Раздел "Функциональное программирование"
│   │   └── advanced.md         # Раздел "Продвинутые темы"
│   └── milestones.md           # Основные вехи
│
├── content/                    # Планы по контенту
│   ├── lessons/                # Планы создания уроков
│   │   ├── in-progress/        # Уроки в разработке
│   │   ├── planned/            # Запланированные уроки
│   │   └── completed/          # Завершенные уроки
│   │
│   ├── exercises/              # Планы создания упражнений
│   │   ├── in-progress/
│   │   ├── planned/
│   │   └── completed/
│   │
│   └── reviews/                # Планы ревью материалов
│       ├── pending/            # Ожидают ревью
│       └── completed/          # Ревью завершены
│
├── technical/                  # Технические планы
│   ├── infrastructure.md       # Инфраструктура проекта
│   ├── automation.md           # Автоматизация процессов
│   ├── integration.md          # Интеграция со Stepik
│   └── tooling.md              # Инструментарий разработки
│
├── sprints/                    # Спринты/итерации (опционально)
│   └── 2025-12-[week]/
│       ├── plan.md
│       ├── progress.md
│       └── retrospective.md
│
├── archive/                    # Архив завершенных планов
│   └── 2025/
│       └── 12/
│           └── [date]-[topic].md
│
└── STRUCTURE.md               # Этот файл
```

## Формат плана

Каждый план следует единой структуре:

```markdown
# План: [Название]

## Метаданные
- **Создан**: [дата]
- **Обновлен**: [дата]
- **Статус**: [planned/in-progress/completed/archived]
- **Владелец**: [кто отвечает]
- **Приоритет**: [low/medium/high/critical]

## Цель
[Четкое описание цели плана]

## Контекст
[Почему это нужно, какую проблему решает]

## Связь с задачами

### Исполнительские задачи (ссылки на tasks/)
- [TASK-2025-12-22-001](../../tasks/by-type/content/lesson-basics.md) - Создать урок (done)
- [TASK-2025-12-22-002](../../tasks/by-type/content/lesson-functions.md) - Создать урок (in-progress)

### Высокоуровневые задачи плана
- [ ] Разработать структуру раздела
- [ ] Создать 5 уроков (→ декомпозиция в tasks/)
- [ ] Провести ревью всего раздела

### Завершенные этапы
- [x] Исследование темы (2025-12-15)

## Критерии завершения
- [ ] Критерий 1
- [ ] Критерий 2

## Зависимости
- Зависит от: [другие планы/задачи]
- Блокирует: [что зависит от этого плана]

## Заметки
[Важные замечания, риски, изменения]

## История изменений
- 2025-12-22: План создан
- 2025-12-23: Добавлены задачи 3-4
```

## Команды для работы с планами

### Создание плана

```
@create-plan:
  тип: content/lessons
  название: "Серия уроков про коллекции"
  приоритет: high
```

### Обновление плана

```
@update-plan:
  файл: plans/content/lessons/collections.md
  действие: add-task
  задача: "Создать урок про List"
```

### Ревью плана

```
@review-plan:
  файл: plans/course/roadmap.md
  проверить: [актуальность, полнота, приоритеты]
```

### Архивация плана

```
@archive-plan:
  файл: plans/content/lessons/basics-intro.md
  причина: "План завершен"
```

## Жизненный цикл плана

```
planned → in-progress → completed → archived
   ↑           ↓
   └─── blocked ────┘
```

### Статусы

- **planned** - план создан, но работа не начата
- **in-progress** - активная работа
- **blocked** - работа заблокирована (ожидание зависимостей)
- **completed** - все задачи выполнены, критерии достигнуты
- **archived** - план завершен и перемещен в архив

## Связь с промптами

Планы могут ссылаться на промпты из `prompts/`:

```markdown
## Используемые промпты

Для выполнения этого плана используются:
- `prompts/templates/lesson-basic.md` - для создания базовых уроков
- `prompts/modules/lesson/structure.md` - структура уроков
```

## Интеграция с Git

### Коммиты

```bash
# Создание плана
git commit -m "plan: создан план 'Серия уроков про коллекции'"

# Обновление плана
git commit -m "plan: обновлен roadmap - добавлен раздел про типы"

# Завершение плана
git commit -m "plan: завершен план 'Основы Scala' - все уроки созданы"

# Архивация
git commit -m "plan: архивирован план 'Интеграция со Stepik'"
```

### Ветки (опционально)

Для крупных планов можно создавать отдельные ветки:
```bash
git checkout -b plan/collections-series
```

## Примеры использования

### Пример 1: План создания урока

`plans/content/lessons/in-progress/pattern-matching.md`
```markdown
# План: Урок "Pattern Matching в Scala 3"

## Метаданные
- Создан: 2025-12-22
- Статус: in-progress
- Приоритет: high

## Цель
Создать урок о pattern matching для начинающих

## Задачи
- [x] Создать промпт для урока
- [ ] Написать теоретическую часть
- [ ] Создать примеры кода
- [ ] Создать упражнения
- [ ] Написать тесты
- [ ] Ревью материала

## Используемые промпты
- prompts/templates/lesson-basic.md
```

### Пример 2: План по разделу курса

`plans/course/sections/basics.md`
```markdown
# План: Раздел "Основы Scala"

## Метаданные
- Создан: 2025-12-20
- Статус: in-progress
- Приоритет: critical

## Цель
Создать полный раздел для начинающих (10-12 уроков)

## Структура уроков
1. [x] Введение в Scala
2. [x] Переменные и типы
3. [ ] Функции
4. [ ] Коллекции
5. [ ] Pattern matching
...

## Прогресс
- Завершено: 2/12
- В работе: 1
- Запланировано: 9
```

## Мониторинг прогресса

Создать скрипты для мониторинга:

```bash
# Показать все активные планы
./scripts/show-active-plans.sh

# Показать статистику
./scripts/plan-stats.sh

# Проверить просроченные планы
./scripts/check-deadlines.sh
```

## Лучшие практики

### ✅ DO

- Создавай планы для всех нетривиальных задач
- Обновляй статус регулярно
- Архивируй завершенные планы
- Коммить изменения планов в Git
- Добавляй контекст и обоснование
- Связывай планы между собой

### ❌ DON'T

- Не создавай планы для тривиальных задач (замена опечатки)
- Не дублируй информацию между планами
- Не оставляй планы без обновлений надолго
- Не смешивай технические и контентные планы в одном файле

## Автоматизация

Возможные скрипты для автоматизации:

```bash
# Создание плана по шаблону
./scripts/create-plan.sh lesson "Pattern Matching"

# Перемещение в архив
./scripts/archive-plan.sh plans/content/lessons/basics.md

# Генерация отчета
./scripts/generate-report.sh weekly
```

---

**Версия**: 1.0
**Дата**: 2025-12-22
